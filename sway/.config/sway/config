#
# General options
#

set $mod Mod4
set $term kitty
set $menu dmenu_path | wofi --show=run --matching | xargs swaymsg exec --
set $lock swaylock --screenshot --effect-blur 10x10 --effect-vignette 0.5:1 --ring-color 3c3836 --key-hl-color d65e0e -f

bindswitch --reload --locked lid:on exec $lock
exec sway-audio-idle-inhibit
exec swayidle -w \
    timeout 10 $lock \
    timeout 20 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
    before-sleep $lock

exec ~/.local/bin/Nextcloud-4.0.2-x86_64.AppImage --background
#
# Key bindings
#

floating_modifier $mod normal

bindsym $mod+p exec kitty -e /usr/bin/expect -c "spawn python; expect \\"*>>> \\"; send \\"import numpy as np\n\\"; send \\"import sympy as sp\n\\"; interact"
bindsym $mod+Return exec $term
bindsym $mod+Shift+q kill
# bindsym $mod+d exec $menu
bindsym alt+space exec $menu
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec swaymsg exit
bindsym $mod+g exec swaymsg gaps inner current toggle 3

# bindsym Control+Mod1+l exec $lock
bindsym Control+$mod+l exec swaylock & systemctl suspend
bindsym Print exec grim -g "$(slurp -d)" - | wl-copy

bindsym XF86AudioRaiseVolume exec pulsemixer --change-volume +5 --max-volume 100 #increase sound volume
bindsym XF86AudioLowerVolume exec pulsemixer --change-volume -5 --max-volume 100 #decrease sound volume
bindsym Shift+XF86AudioRaiseVolume exec pulsemixer --change-volume +5 --max-volume 300 #increase sound volume
bindsym Shift+XF86AudioLowerVolume exec pulsemixer --change-volume -5 --max-volume 300 #decrease sound volume
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle # mute sound

bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioPause exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

bindsym XF86MonBrightnessUp exec /bin/sh -c ~/.config/sway/scripts/increase_brightness
bindsym XF86MonBrightnessDown exec /bin/sh -c ~/.config/sway/scripts/decrease_brightness

#
# Outputs
#

output * bg ~/.config/sway/wallpapers/nasa-WKT3TE5AQu0-unsplash.jpg fill
output eDP-1 scale 1.2

#
# Styling
#

bar {
    swaybar_command waybar
    position top
}

exec_always --no-startup-id bash -c "killall flashfocus; flashfocus --flash-opacity 0.92 -l never"

# for_window [app_id="org.pwmt.zathura"] opacity 0.94
# for_window [app_id="kitty"] opacity 0.5 border pixel 0
# for_window [title="blueman-manager"] floating enable

for_window [class="^.*"] border pixel 3
# default_floating_border none
# default_floating_border normal 0
hide_edge_borders smart

# gaps inner 2
smart_gaps on

#
# Load other configs
#

include ~/.config/sway/config.d/*
